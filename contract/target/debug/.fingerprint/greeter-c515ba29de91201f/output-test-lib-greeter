{"message":"cannot find type `PromiseOrValue` in this scope","code":{"code":"E0412","explanation":"A used type name is not in scope.\n\nErroneous code examples:\n\n```compile_fail,E0412\nimpl Something {} // error: type name `Something` is not in scope\n\n// or:\n\ntrait Foo {\n    fn bar(N); // error: type name `N` is not in scope\n}\n\n// or:\n\nfn foo(x: T) {} // type name `T` is not in scope\n```\n\nTo fix this error, please verify you didn't misspell the type name, you did\ndeclare it or imported it into the scope. Examples:\n\n```\nstruct Something;\n\nimpl Something {} // ok!\n\n// or:\n\ntrait Foo {\n    type N;\n\n    fn bar(_: Self::N); // ok!\n}\n\n// or:\n\nfn foo<T>(x: T) {} // ok!\n```\n\nAnother case that causes this error is when a type is imported into a parent\nmodule. To fix this, you can follow the suggestion and use File directly or\n`use super::File;` which will import the types from the parent namespace. An\nexample that causes this error is below:\n\n```compile_fail,E0412\nuse std::fs::File;\n\nmod foo {\n    fn some_function(f: File) {}\n}\n```\n\n```\nuse std::fs::File;\n\nmod foo {\n    // either\n    use super::File;\n    // or\n    // use std::fs::File;\n    fn foo(f: File) {}\n}\n# fn main() {} // don't insert it for us; that'll break imports\n```\n"},"level":"error","spans":[{"file_name":"/Users/taoyiran/.cargo/registry/src/mirrors.ustc.edu.cn-61ef6e0cd06fb9b8/near-contract-standards-3.2.0/src/non_fungible_token/macros.rs","byte_start":1117,"byte_end":1131,"line_start":31,"line_end":31,"column_start":18,"column_end":32,"is_primary":true,"text":[{"text":"            ) -> PromiseOrValue<bool> {","highlight_start":18,"highlight_end":32}],"label":"not found in this scope","suggested_replacement":null,"suggestion_applicability":null,"expansion":{"span":{"file_name":"src/lib.rs","byte_start":8279,"byte_end":8350,"line_start":246,"line_end":246,"column_start":1,"column_end":72,"is_primary":false,"text":[{"text":"near_contract_standards::impl_non_fungible_token_core!(Animal, tokens);","highlight_start":1,"highlight_end":72}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},"macro_decl_name":"near_contract_standards::impl_non_fungible_token_core!","def_site_span":{"file_name":"/Users/taoyiran/.cargo/registry/src/mirrors.ustc.edu.cn-61ef6e0cd06fb9b8/near-contract-standards-3.2.0/src/non_fungible_token/macros.rs","byte_start":133,"byte_end":2316,"line_start":4,"line_end":68,"column_start":1,"column_end":2,"is_primary":false,"text":[{"text":"macro_rules! impl_non_fungible_token_core {","highlight_start":1,"highlight_end":44},{"text":"    ($contract: ident, $token: ident) => {","highlight_start":1,"highlight_end":43},{"text":"        use std::collections::HashMap;","highlight_start":1,"highlight_end":39},{"text":"        use $crate::non_fungible_token::core::NonFungibleTokenCore;","highlight_start":1,"highlight_end":68},{"text":"        use $crate::non_fungible_token::core::NonFungibleTokenResolver;","highlight_start":1,"highlight_end":72},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        #[near_bindgen]","highlight_start":1,"highlight_end":24},{"text":"        impl NonFungibleTokenCore for $contract {","highlight_start":1,"highlight_end":50},{"text":"            #[payable]","highlight_start":1,"highlight_end":23},{"text":"            fn nft_transfer(","highlight_start":1,"highlight_end":29},{"text":"                &mut self,","highlight_start":1,"highlight_end":27},{"text":"                receiver_id: ValidAccountId,","highlight_start":1,"highlight_end":45},{"text":"                token_id: TokenId,","highlight_start":1,"highlight_end":35},{"text":"                approval_id: Option<u64>,","highlight_start":1,"highlight_end":42},{"text":"                memo: Option<String>,","highlight_start":1,"highlight_end":38},{"text":"            ) {","highlight_start":1,"highlight_end":16},{"text":"                self.$token.nft_transfer(receiver_id, token_id, approval_id, memo)","highlight_start":1,"highlight_end":83},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"","highlight_start":1,"highlight_end":1},{"text":"            #[payable]","highlight_start":1,"highlight_end":23},{"text":"            fn nft_transfer_call(","highlight_start":1,"highlight_end":34},{"text":"                &mut self,","highlight_start":1,"highlight_end":27},{"text":"                receiver_id: ValidAccountId,","highlight_start":1,"highlight_end":45},{"text":"                token_id: TokenId,","highlight_start":1,"highlight_end":35},{"text":"                approval_id: Option<u64>,","highlight_start":1,"highlight_end":42},{"text":"                memo: Option<String>,","highlight_start":1,"highlight_end":38},{"text":"                msg: String,","highlight_start":1,"highlight_end":29},{"text":"            ) -> PromiseOrValue<bool> {","highlight_start":1,"highlight_end":40},{"text":"                self.$token.nft_transfer_call(receiver_id, token_id, approval_id, memo, msg)","highlight_start":1,"highlight_end":93},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"","highlight_start":1,"highlight_end":1},{"text":"            fn nft_token(self, token_id: TokenId) -> Option<Token> {","highlight_start":1,"highlight_end":69},{"text":"                self.$token.nft_token(token_id)","highlight_start":1,"highlight_end":48},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"","highlight_start":1,"highlight_end":1},{"text":"            fn mint(","highlight_start":1,"highlight_end":21},{"text":"                &mut self,","highlight_start":1,"highlight_end":27},{"text":"                token_id: TokenId,","highlight_start":1,"highlight_end":35},{"text":"                token_owner_id: ValidAccountId,","highlight_start":1,"highlight_end":48},{"text":"                token_metadata: Option<TokenMetadata>,","highlight_start":1,"highlight_end":55},{"text":"            ) -> Token {","highlight_start":1,"highlight_end":25},{"text":"                self.$token.mint(token_id, token_owner_id, token_metadata)","highlight_start":1,"highlight_end":75},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        #[near_bindgen]","highlight_start":1,"highlight_end":24},{"text":"        impl NonFungibleTokenResolver for $contract {","highlight_start":1,"highlight_end":54},{"text":"            #[private]","highlight_start":1,"highlight_end":23},{"text":"            fn nft_resolve_transfer(","highlight_start":1,"highlight_end":37},{"text":"                &mut self,","highlight_start":1,"highlight_end":27},{"text":"                previous_owner_id: AccountId,","highlight_start":1,"highlight_end":46},{"text":"                receiver_id: AccountId,","highlight_start":1,"highlight_end":40},{"text":"                token_id: TokenId,","highlight_start":1,"highlight_end":35},{"text":"                approved_account_ids: Option<HashMap<AccountId, u64>>,","highlight_start":1,"highlight_end":71},{"text":"            ) -> bool {","highlight_start":1,"highlight_end":24},{"text":"                self.$token.nft_resolve_transfer(","highlight_start":1,"highlight_end":50},{"text":"                    previous_owner_id,","highlight_start":1,"highlight_end":39},{"text":"                    receiver_id,","highlight_start":1,"highlight_end":33},{"text":"                    token_id,","highlight_start":1,"highlight_end":30},{"text":"                    approved_account_ids,","highlight_start":1,"highlight_end":42},{"text":"                )","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    };","highlight_start":1,"highlight_end":7},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}}}],"children":[{"message":"consider importing this enum","code":null,"level":"help","spans":[{"file_name":"src/lib.rs","byte_start":525,"byte_end":525,"line_start":16,"line_end":16,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"use near_contract_standards::non_fungible_token::metadata::{","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"use near_sdk::PromiseOrValue;\n","suggestion_applicability":"Unspecified","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror[E0412]\u001b[0m\u001b[0m\u001b[1m: cannot find type `PromiseOrValue` in this scope\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/lib.rs:246:1\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m246\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0mnear_contract_standards::impl_non_fungible_token_core!(Animal, tokens);\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mnot found in this scope\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: consider importing this enum\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m16\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0muse near_sdk::PromiseOrValue;\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"message":"unused imports: `UnorderedSet`, `Vector`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/lib.rs","byte_start":947,"byte_end":953,"line_start":24,"line_end":24,"column_start":29,"column_end":35,"is_primary":true,"text":[{"text":"use near_sdk::collections::{Vector, UnorderedSet, LookupMap};","highlight_start":29,"highlight_end":35}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/lib.rs","byte_start":955,"byte_end":967,"line_start":24,"line_end":24,"column_start":37,"column_end":49,"is_primary":true,"text":[{"text":"use near_sdk::collections::{Vector, UnorderedSet, LookupMap};","highlight_start":37,"highlight_end":49}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_imports)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"remove the unused imports","code":null,"level":"help","spans":[{"file_name":"src/lib.rs","byte_start":947,"byte_end":969,"line_start":24,"line_end":24,"column_start":29,"column_end":51,"is_primary":true,"text":[{"text":"use near_sdk::collections::{Vector, UnorderedSet, LookupMap};","highlight_start":29,"highlight_end":51}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused imports: `UnorderedSet`, `Vector`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/lib.rs:24:29\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m24\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0muse near_sdk::collections::{Vector, UnorderedSet, LookupMap};\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m                            \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(unused_imports)]` on by default\u001b[0m\n\n"}
{"message":"unused imports: `Balance`, `PromiseResult`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/lib.rs","byte_start":1026,"byte_end":1033,"line_start":25,"line_end":25,"column_start":46,"column_end":53,"is_primary":true,"text":[{"text":"use near_sdk::{env, near_bindgen, AccountId, Balance, BorshStorageKey, PanicOnDefault, Promise, PromiseResult};","highlight_start":46,"highlight_end":53}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/lib.rs","byte_start":1077,"byte_end":1090,"line_start":25,"line_end":25,"column_start":97,"column_end":110,"is_primary":true,"text":[{"text":"use near_sdk::{env, near_bindgen, AccountId, Balance, BorshStorageKey, PanicOnDefault, Promise, PromiseResult};","highlight_start":97,"highlight_end":110}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the unused imports","code":null,"level":"help","spans":[{"file_name":"src/lib.rs","byte_start":1024,"byte_end":1033,"line_start":25,"line_end":25,"column_start":44,"column_end":53,"is_primary":true,"text":[{"text":"use near_sdk::{env, near_bindgen, AccountId, Balance, BorshStorageKey, PanicOnDefault, Promise, PromiseResult};","highlight_start":44,"highlight_end":53}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/lib.rs","byte_start":1075,"byte_end":1090,"line_start":25,"line_end":25,"column_start":95,"column_end":110,"is_primary":true,"text":[{"text":"use near_sdk::{env, near_bindgen, AccountId, Balance, BorshStorageKey, PanicOnDefault, Promise, PromiseResult};","highlight_start":95,"highlight_end":110}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused imports: `Balance`, `PromiseResult`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/lib.rs:25:46\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m25\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0muse near_sdk::{env, near_bindgen, AccountId, Balance, BorshStorageKey, PanicOnDefault, Promise, PromiseResult};\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m                                             \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^\u001b[0m\u001b[0m                                            \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^\u001b[0m\n\n"}
{"message":"unused import: `near_sdk::serde::Serialize`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/lib.rs","byte_start":1097,"byte_end":1123,"line_start":26,"line_end":26,"column_start":5,"column_end":31,"is_primary":true,"text":[{"text":"use near_sdk::serde::Serialize;","highlight_start":5,"highlight_end":31}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the whole `use` item","code":null,"level":"help","spans":[{"file_name":"src/lib.rs","byte_start":1093,"byte_end":1124,"line_start":26,"line_end":26,"column_start":1,"column_end":32,"is_primary":true,"text":[{"text":"use near_sdk::serde::Serialize;","highlight_start":1,"highlight_end":32}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `near_sdk::serde::Serialize`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/lib.rs:26:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m26\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0muse near_sdk::serde::Serialize;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"message":"unused import: `near_sdk::MockedBlockchain`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/lib.rs","byte_start":1171,"byte_end":1197,"line_start":28,"line_end":28,"column_start":5,"column_end":31,"is_primary":true,"text":[{"text":"use near_sdk::MockedBlockchain;","highlight_start":5,"highlight_end":31}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"remove the whole `use` item","code":null,"level":"help","spans":[{"file_name":"src/lib.rs","byte_start":1167,"byte_end":1198,"line_start":28,"line_end":28,"column_start":1,"column_end":32,"is_primary":true,"text":[{"text":"use near_sdk::MockedBlockchain;","highlight_start":1,"highlight_end":32}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unused import: `near_sdk::MockedBlockchain`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/lib.rs:28:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m28\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0muse near_sdk::MockedBlockchain;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\n"}
{"message":"aborting due to previous error; 4 warnings emitted","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to previous error; 4 warnings emitted\u001b[0m\n\n"}
{"message":"For more information about this error, try `rustc --explain E0412`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1mFor more information about this error, try `rustc --explain E0412`.\u001b[0m\n"}
